import{T as $,k as w,c,w as o,o as l,a as i,f as e,B as f,t as m,u as a,Z as V,e as r,y as O,G as B,b as E,d as y,s as P,F as S,i as C}from"./app.e0b9633d.js";import{C as j,t as D,A as T,F as q,G as F,H as M,I as G,x as I,y as U}from"./colors.b29d94f6.js";import{_ as H}from"./LayoutAuthenticated.f6f41b2f.js";import{_ as K,a as L}from"./SectionTitleLineWithButton.8c12b682.js";import{_ as u,a as A}from"./CardBox.c20e43a2.js";import{_ as Z}from"./BaseButtons.f3fe04e6.js";import{_ as z}from"./NotificationBar.fbb6fb03.js";import{_ as x,a as J}from"./Sort.0a7b7d16.js";import{_ as Q}from"./CardBoxModal.04295fa3.js";import"./FormControl.af65be71.js";import"./BaseLevel.9089e686.js";const R={class:"py-2 flex"},W={class:"flex pl-4"},X=e("th",null,"sku",-1),Y=e("th",null,"cost price",-1),ee=e("th",null,"required bidders",-1),te=e("th",null,"is visible",-1),ae=e("th",null,"is active",-1),ne={key:0},le={"data-label":"Name English"},ie={"data-label":"Name Arabic"},se={key:0,class:"before:hidden lg:w-1 whitespace-nowrap"},oe={class:"py-4"},pe={__name:"Index",props:{products:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},can:{type:Object,default:()=>({})}},setup(s){const _=$({search:s.filters.search}),b=$({}),v=w(!1),k=w(null);function N(n){b.delete(route("admin.product.destroy",n))}function p(n){confirm("Are you sure you want to change visible?")&&b.put(route("admin.product.visible",n))}function g(n){confirm("Are you sure you want to change active?")&&b.put(route("admin.product.active",n))}return(n,d)=>(l(),c(H,null,{default:o(()=>[i(Q,{onConfirm:d[0]||(d[0]=t=>N(k.value)),modelValue:v.value,"onUpdate:modelValue":d[1]||(d[1]=t=>v.value=t),"large-title":"Please confirm",button:"danger","has-cancel":""},{default:o(()=>[e("p",null,[f("Are you sure you want to delete "),e("b",null,m(k.value),1),f("?")])]),_:1},8,["modelValue"]),i(a(V),{title:"Product"}),i(L,null,{default:o(()=>[i(K,{icon:a(j),title:"Product",main:""},{default:o(()=>[s.can.delete?(l(),c(u,{key:0,"route-name":n.route("admin.product.create"),icon:a(D),label:"Add",color:"info","rounded-full":"",small:""},null,8,["route-name","icon"])):r("",!0)]),_:1},8,["icon"]),n.$page.props.flash.message?(l(),c(z,{key:Date.now(),color:"success",icon:a(T)},{default:o(()=>[f(m(n.$page.props.flash.message),1)]),_:1},8,["icon"])):r("",!0),i(A,{class:"mb-6","has-table":""},{default:o(()=>[e("form",{onSubmit:d[3]||(d[3]=E(t=>a(_).get(n.route("admin.product.index")),["prevent"]))},[e("div",R,[e("div",W,[O(e("input",{type:"search","onUpdate:modelValue":d[2]||(d[2]=t=>a(_).search=t),class:"rounded-md shadow-sm border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-black",placeholder:"Search"},null,512),[[B,a(_).search]]),i(u,{label:"Search",type:"submit",color:"info",class:"ml-4 inline-flex items-center px-4 py-2"})])])],32)]),_:1}),i(A,{class:"mb-6","has-table":""},{default:o(()=>[e("table",null,[e("thead",null,[e("tr",null,[X,e("th",null,[i(x,{label:"Name English",attribute:"name"})]),e("th",null,[i(x,{label:"Name Arabic",attribute:"name"})]),Y,ee,te,ae,s.can.edit||s.can.delete?(l(),y("th",ne,"Actions")):r("",!0)])]),e("tbody",null,[(l(!0),y(S,null,P(s.products.data,t=>(l(),y("tr",{key:t.id},[e("td",null,m(t.sku),1),e("td",le,[i(a(C),{href:n.route("admin.product.show",t.id),class:"no-underline hover:underline text-cyan-600 dark:text-cyan-400"},{default:o(()=>[f(m(t.name_english),1)]),_:2},1032,["href"])]),e("td",ie,[i(a(C),{href:n.route("admin.product.show",t.id),class:"no-underline hover:underline text-cyan-600 dark:text-cyan-400"},{default:o(()=>[f(m(t.name_arabic),1)]),_:2},1032,["href"])]),e("td",null,m(t.cost_price),1),e("td",null,m(t.required_bidders),1),e("td",null,[t.is_visible?r("",!0):(l(),c(u,{key:0,color:"danger",icon:a(q),small:"",onClick:h=>p(t.id)},null,8,["icon","onClick"])),t.is_visible?(l(),c(u,{key:1,color:"success",icon:a(F),small:"",onClick:h=>p(t.id)},null,8,["icon","onClick"])):r("",!0)]),e("td",null,[t.is_active?r("",!0):(l(),c(u,{key:0,color:"danger",icon:a(M),small:"",onClick:h=>g(t.id)},null,8,["icon","onClick"])),t.is_active?(l(),c(u,{key:1,color:"success",icon:a(G),small:"",onClick:h=>g(t.id)},null,8,["icon","onClick"])):r("",!0)]),s.can.edit||s.can.delete?(l(),y("td",se,[i(Z,{type:"justify-start lg:justify-end","no-wrap":""},{default:o(()=>[s.can.edit?(l(),c(u,{key:0,"route-name":n.route("admin.product.edit",t.id),color:"info",icon:a(I),small:""},null,8,["route-name","icon"])):r("",!0),s.can.delete?(l(),c(u,{key:1,color:"danger",icon:a(U),small:"",onClick:h=>{v.value=!0,k.value=t.id}},null,8,["icon","onClick"])):r("",!0)]),_:2},1024)])):r("",!0)]))),128))])]),e("div",oe,[i(J,{data:s.products},null,8,["data"])])]),_:1})]),_:1})]),_:1}))}};export{pe as default};
